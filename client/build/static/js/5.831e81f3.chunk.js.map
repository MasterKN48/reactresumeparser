{"version":3,"sources":["component/FileUpload.js"],"names":["FileUpload","useState","file","setFile","fileName","setFileName","disable","setDisable","dispatch","useContext","store","submit","e","a","preventDefault","alert","type","data","FormData","append","fetch","method","body","res","json","result","payload","my","color","align","gutterBottom","variant","onSubmit","component","className","fontSize","onChange","undefined","target","files","name","accept","disabled"],"mappings":"0PA2FeA,UApFI,WAAO,IAAD,EACCC,mBAAS,MADV,mBAChBC,EADgB,KACVC,EADU,OAESF,mBAAS,MAFlB,mBAEhBG,EAFgB,KAENC,EAFM,OAGOJ,oBAAS,GAHhB,mBAGhBK,EAHgB,KAGPC,EAHO,KAKfC,EADYC,qBAAWC,KACvBF,SAeFG,EAAM,uCAAG,WAAOC,GAAP,mBAAAC,EAAA,yDACbD,EAAEE,iBACW,OAATZ,EAFS,uBAGXa,MAAM,yBAHK,iCAMbR,GAAW,GACXC,EAAS,CAAEQ,KAAM,mBACbC,EAAO,IAAIC,UACVC,OAAO,SAAUjB,EAAME,GATf,UAUGgB,MAAM,aAAc,CAClCC,OAAQ,OACRC,KAAML,IAZK,eAUTM,EAVS,iBAcMA,EAAIC,OAdV,QAcTC,EAdS,OAebjB,EAAS,CAAEQ,KAAM,gBAAiBU,QAASD,IAC3CtB,EAAQ,MACRI,GAAW,GACXF,EAAY,MAlBC,4CAAH,sDAqBZ,OACE,kBAAC,IAAD,CAAKsB,GAAG,QACN,kBAAC,IAAD,CACEC,MAAM,gBACNC,MAAM,SACNC,cAAY,EACZC,QAAQ,MAJV,iBAQA,0BAAMC,SAAUrB,EAAQkB,MAAM,UAC5B,kBAAC,IAAD,CAAKI,UAAU,MAAMN,GAAG,OAAOO,UAAU,sBACvC,kBAAC,IAAD,CAAQH,QAAQ,WAAWH,MAAM,WAC/B,kBAAC,IAAD,CAAyBO,SAAS,UADpC,0BAIA,2BACEC,SAnDW,SAACxB,QACMyB,IAAtBzB,EAAE0B,OAAOC,MAAM,KAGY,oBAA3B3B,EAAE0B,OAAOC,MAAM,GAAGvB,MAKtBb,EAAQS,EAAE0B,OAAOC,MAAM,IACvBlC,EAAYO,EAAE0B,OAAOC,MAAM,GAAGC,OAL5BzB,MAAM,4BA+CA0B,OAAO,kBACPzB,KAAK,OACLwB,KAAK,WAEP,6BACCpC,EACC,kBAAC,IAAD,CAAY2B,QAAQ,WAAWD,cAAY,GACxC1B,GAED,MAEN,6BACA,kBAAC,IAAD,CACEsC,SAAUpC,EACVU,KAAK,SACLY,MAAM,UACNG,QAAQ,YAER,kBAAC,IAAD,MANF","file":"static/js/5.831e81f3.chunk.js","sourcesContent":["import React, { useState, useContext } from \"react\";\nimport CloudUploadOutlinedIcon from \"@material-ui/icons/CloudUploadOutlined\";\nimport PublishIcon from \"@material-ui/icons/Publish\";\nimport { store } from \"../store\";\nimport { Box, Typography, Button } from \"@material-ui/core\";\nimport \"./styles.css\";\n\nconst FileUpload = () => {\n  const [file, setFile] = useState(null);\n  const [fileName, setFileName] = useState(null);\n  const [disable, setDisable] = useState(false);\n  const globalState = useContext(store);\n  const { dispatch } = globalState;\n\n  const handleChange = (e) => {\n    if (e.target.files[0] === undefined) {\n      return;\n    }\n    if (e.target.files[0].type !== \"application/pdf\") {\n      alert(\"Only PDF file allowed!\");\n      return;\n    }\n\n    setFile(e.target.files[0]);\n    setFileName(e.target.files[0].name);\n  };\n\n  const submit = async (e) => {\n    e.preventDefault();\n    if (file === null) {\n      alert(\"Please Select a file.\");\n      return;\n    }\n    setDisable(true);\n    dispatch({ type: \"START_PARSING\" });\n    let data = new FormData();\n    data.append(\"resume\", file, fileName);\n    let res = await fetch(\"/api/parse\", {\n      method: \"post\",\n      body: data,\n    });\n    let result = await res.json();\n    dispatch({ type: \"RESUME_PARSED\", payload: result });\n    setFile(null);\n    setDisable(false);\n    setFileName(null);\n  };\n\n  return (\n    <Box my=\"6rem\">\n      <Typography\n        color=\"textSecondary\"\n        align=\"center\"\n        gutterBottom\n        variant=\"h5\"\n      >\n        Resume Parser\n      </Typography>\n      <form onSubmit={submit} align=\"center\">\n        <Box component=\"div\" my=\"1rem\" className=\"upload-btn-wrapper\">\n          <Button variant=\"outlined\" color=\"primary\">\n            <CloudUploadOutlinedIcon fontSize=\"large\" /> &nbsp;&nbsp;Select\n            Resume\n          </Button>\n          <input\n            onChange={handleChange}\n            accept=\"application/pdf\"\n            type=\"file\"\n            name=\"myfile\"\n          />\n          <br />\n          {fileName ? (\n            <Typography variant=\"overline\" gutterBottom>\n              {fileName}\n            </Typography>\n          ) : null}\n        </Box>\n        <br />\n        <Button\n          disabled={disable}\n          type=\"submit\"\n          color=\"primary\"\n          variant=\"outlined\"\n        >\n          <PublishIcon /> Send\n        </Button>\n      </form>\n    </Box>\n  );\n};\n\nexport default FileUpload;\n"],"sourceRoot":""}